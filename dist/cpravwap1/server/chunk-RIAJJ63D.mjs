import './polyfills.server.mjs';
import{C as O,G as P,J as R,a as m,b as f,c as h,d as i,e as r,f as d,g as p,h as C,i as s,j as u,k as v,p as g,s as y,u as x,v as A,w as D,x as b,y as S,z as H}from"./chunk-JUQ2SKYX.mjs";var c=class n{title="cpravwap1";static \u0275fac=function(o){return new(o||n)};static \u0275cmp=m({type:n,selectors:[["app-root"]],standalone:!0,features:[s],decls:4,vars:0,consts:[["routerLink","/chart"]],template:function(o,a){o&1&&(i(0,"nav")(1,"a",0),p(2,"Chart"),r()(),d(3,"router-outlet"))},dependencies:[P]})};var l=class n{constructor(e){this.http=e}chartOption={};jsonResponse;ngOnInit(){this.fetchChartData()}fetchChartData(){this.http.get("http://localhost:8080/api/ohlc-data").subscribe(e=>{this.buildChart(e),this.jsonResponse=e},e=>{console.error("Error fetching data",e)})}buildChart(e){let o=e.map(t=>[t.time,t.open,t.close,t.low,t.high]),a=e.map(t=>[t.time,t.cpr]),E=e.map(t=>[t.time,t.pivot]),M=e.map(t=>[t.time,t.pivotHigh]),j=e.map(t=>[t.time,t.pivotLow]),F=e.map(t=>[t.time,t.anchorVWAP]);this.chartOption={title:{text:"OHLC and Line Charts"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:e.map(t=>t.time),boundaryGap:!1},yAxis:{type:"value"},series:[{name:"OHLC",type:"candlestick",data:o},{name:"CPR",type:"line",data:a,smooth:!0,lineStyle:{color:"orange"}},{name:"Pivot",type:"line",data:E,smooth:!0,lineStyle:{color:"blue"}},{name:"Pivot High",type:"line",data:M,smooth:!0,lineStyle:{color:"green"}},{name:"Pivot Low",type:"line",data:j,smooth:!0,lineStyle:{color:"red"}},{name:"AnchorVWAP",type:"line",data:F,smooth:!0,lineStyle:{color:"purple"}}]}}static \u0275fac=function(o){return new(o||n)(h(D))};static \u0275cmp=m({type:n,selectors:[["app-chart"]],standalone:!0,features:[s],decls:6,vars:3,template:function(o,a){o&1&&(i(0,"div")(1,"h2"),p(2,"Response from Server:"),r(),i(3,"pre"),p(4),u(5,"json"),r()()),o&2&&(f(4),C(v(5,1,a.jsonResponse)))},dependencies:[A,x,b]})};var w=[{path:"",component:l}];var I={providers:[g({eventCoalescing:!0}),R(w),H()]};var W={providers:[O()]},L=y(I,W);var k=()=>S(c,L),ct=k;export{ct as a};
